<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title> Open Source contributions at Suttna ‚Äî  &raquo;  bilby91</title>
<meta name="description" content="Summary of some open source contributions at Suttna for the BotBuilder ecosystem">
<meta name="keywords" content="">
<link rel="canonical" href="https://io.bilby91.com/posts/opensource-contributuions-at-suttna">
        




<!-- Twitter Cards -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Open Source contributions at Suttna" />
<meta name="twitter:description" content="Summary of some open source contributions at Suttna for the BotBuilder ecosystem" />
<meta name="twitter:image" content="https://io.bilby91.com" />

<!-- Google plus -->
<meta name="author" content="">
<link rel="author" href="">

<!-- Open Graph -->
<meta property="og:locale" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="Open Source contributions at Suttna">
<meta property="og:description" content="Summary of some open source contributions at Suttna for the BotBuilder ecosystem">
<meta property="og:url" content="https://io.bilby91.com/posts/opensource-contributuions-at-suttna">
<meta property="og:site_name" content="bilby91">

        <link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/assets/vendor/normalize-css/normalize.css">
<link rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet" href="/assets/vendor/highlight/styles/solarized_dark.css">

<link rel="stylesheet" href="/assets/vendor/font-awesome/css/font-awesome.css">
    </head>

    <body>
        <div class="wrapper">
            <header class="header">
    <div class="navigation">
        <a href="/" class="logo">bilby91</a>
        <ul class="menu">
            <li class="menu__entry"><a href="/projects">Projects</a></li>
        </ul>
   </div>

    <ul class="social-links">
        
            <a href="https://github.com/bilby91" class="social-links__entry" target="_blank">
                <i class="fa fa-github"></i>
            </a>
        

        
            <a href="https://linkedin.com/in/bilby91" class="social-links__entry" target="_blank">
                <i class="fa fa-linkedin"></i>
            </a>
        

        
            <a href="https://twitter.com/bilby91" class="social-links__entry" target="_blank">
                <i class="fa fa-twitter"></i>
            </a>
        
    </ul>
</header>

            <h1 class="page-title post-title">
    <div class="page-title__text post-title__text">Open Source contributions at Suttna</div>
    <div class="page-title__subtitle post-title__subtitle"></div>
</h1>

<div class="content">
    <p>Ten months ago we started a new project with <a href="https://github.com/santiagodoldan">@santiago.doldan</a>, we called it <a href="https://suttna.com">Suttna</a>. The idea was to build a bot capable of scheduling standups in multiple chat clients. This side project turned out to be a real business and quite a few users started using it üòä</p>

<p>In order to build a cross platform bot, we needed a piece of technology that would abstract the communication layer between the different chat providers. Similarly, we needed a common set of constructs that would allow us to define user conversations. We found Microsoft‚Äôs BotBuilder framework to be a really good option. It solved both problems by decoupleing networking communication with chat providers using <code>Connectors</code> and modeling user conversations using a very powerfull <code>Dialogs</code> API.</p>

<p>We did some initial testing around the framework and decided to give it a try!</p>

<p>During our journey developing <a href="https://suttna.com">Suttna</a>, we have built multiple libraries to solve different problems in the BotBuilder ecosystem.</p>

<p>This are some of the libraries we have developed and open sourced this far.</p>

<p>Some clarifications:</p>

<ul>
  <li>
    <p>Botbuilder -&gt; Microsoft open source botbuilder framework for node.js and C#</p>
  </li>
  <li>
    <p>BotFramework -&gt; The Microsoft Bot Framework provides just what you need to build and connect intelligent bots that interact naturally wherever your users are talking, from text/SMS to Skype, Slack, Office 365 mail and other popular services</p>
  </li>
</ul>

<h2 id="botbuilder-slack"><a href="https://github.com/suttna/botbuilder-slack">botbuilder-slack</a></h2>

<p>We found multiple issues while using BotFramework‚Äôs channels.</p>

<p>Most important issue is that you don‚Äôt ‚Äúown‚Äù the OAuth process. BotFramework handles OAuth and then sends an event to your bot. Main issue with this setup is that information about the installer is not available in the event.</p>

<p>Missing events. Slack sent some interesting 
events that we needed but BotFramework was not 
forwarding (probably because they were using the RT 
API in some cases). First solution for this problem was <a href="https://github.com/suttna/botbuilder-slack-extension">botbuilder-slack-extension</a>. It basically added a new connector to listen and emit the missing events using Slack‚Äôs webhooks.</p>

<p>Commands. Another feature that we wanted to use but was not avaiable using Botbuilder were Slack commands.</p>

<p>To solve all this issues and some other stuff, we decided to build a custom Slack connector that was 100% compatible with Botbuilder‚Äôs ChatConnector. This would mean that we clould swap connectors without chaning any extra code and it should ‚Äújust work‚Äù.</p>

<p>So far, Suttna has been running botbuilder-slack without any issues in production for more than 4 months.</p>

<p>Source available here https://github.com/suttna/botbuilder-slack</p>

<h2 id="botbuilder-redis-storage"><a href="https://github.com/suttna/botbuilder-redis-storage">botbuilder-redis-storage</a></h2>

<p>When users communicate with Suttna using BotBuilder, user‚Äôs conversation state needs to be stored somewhere. BotBuilder provides an in-memory implementation that is fine for testing and maybe development as well but definitely not reliable for a production environment. We looked for alternatives and we couldn‚Äôt find one that solved our constraints. We decided to build a small storage library that saves conversation‚Äôs state in <code>redis</code>.</p>

<p>This library implements BotBuilder‚Äôs <code>IBotStorage</code> interface, plain and simple.</p>

<p>Source available here https://github.com/suttna/botbuilder-redis-storage</p>

<h2 id="botbuilder-markdown"><a href="https://github.com/suttna/botbuilder-markdown">botbuilder-markdown</a></h2>

<p>Botframework attemps to standarize the message‚Äôs format but we found multiple issues trying to maintain a set of translations that should work in Slack and Microsoft Teams. We had several issues with new lines and code formatting to name a few.</p>

<p>We decided to write a middleware that would translate valid markdown text into each platform‚Äôs markdown flavor.</p>

<p>At the moment the botbuilder-markdown supports Slack and Microsoft Teams.</p>

<p>Source available here https://github.com/suttna/botbuilder-redis-storage</p>

<h1 id="conclusion">Conclusion</h1>

<p>It has been really interesting to work with Botbuilder so far. There is a new experimental version of Botbuilder being developed. Anyone interested in contributing with idea can follow the development here https://github.com/Microsoft/botbuilder-js.</p>

<p>Have you tried any of our libraries ? Do you find them useful ?</p>

<p>Wanna know you thoughts and any feedback!</p>

<p>Enjoy üéâ</p>

</div>

<div class="about">
    <div class="about__devider">*****</div>
    <div class="about__text">
        Written by <strong>  Mart√≠n Fern√°ndez </strong>
        on <strong>12 March 2018</strong>
    </div>
</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'blog-io';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


        </div>

        <script src="/assets/vendor/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
        
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-86658376-1', 'auto');
      ga('send', 'pageview');
    </script>

    </body>
</html>